/* ============================================
   MOBILE-FIX.CSS - Correções Críticas Mobile
   Carrega DEPOIS de todos os outros CSS
   Força correções com !important
   ============================================ */

/* HIERARQUIA Z-INDEX DEFINITIVA */
@media (max-width: 768px) {
  /* 1. Botão Menu Hamburger - TOPO ABSOLUTO */
  .mobile-menu-toggle,
  #mobileMenuToggle {
    z-index: 1002 !important;
  }
  
  /* 2. Menu Lateral quando aberto */
  nav.active,
  .navbar.active,
  nav.navbar.active {
    z-index: 1001 !important;
  }
  
  /* 3. Overlay (entre nav e header) */
  .mobile-menu-overlay.active {
    z-index: 1000 !important;
  }
  
  /* 4. Header fixo */
  header,
  .header,
  header.header {
    z-index: 999 !important;
  }
  
  /* 5. Botão de partilha */
  #share-whatsapp-btn,
  .share-button-floating {
    z-index: 998 !important;
  }
  
  /* 6. Todo o conteúdo abaixo */
  main,
  .container,
  .main-content,
  article,
  section {
    z-index: 1 !important;
  }
}

/* GARANTIR HEADER FIXO E CONTEÚDO COM PADDING */
@media (max-width: 768px) {
  html {
    scroll-padding-top: 65px !important;
  }
  
  body {
    padding-top: 65px !important;
    position: relative !important;
  }
  
  header,
  .header,
  header.header {
    position: fixed !important;
    top: 0 !important;
    left: 0 !important;
    right: 0 !important;
    width: 100vw !important;
    height: 60px !important;
  }
}

/* PREVENIR ELEMENTOS VAZANDO PARA FORA */
@media (max-width: 768px) {
  * {
    max-width: 100vw !important;
  }
  
  html,
  body {
    overflow-x: hidden !important;
    width: 100% !important;
    max-width: 100vw !important;
  }
  
  .container,
  main {
    overflow-x: hidden !important;
  }
}

/* MENU HAMBÚRGUER SEMPRE VISÍVEL EM MOBILE */
@media (max-width: 768px) {
  .mobile-menu-toggle,
  #mobileMenuToggle,
  button.mobile-menu-toggle,
  button#mobileMenuToggle {
    display: flex !important;
    visibility: visible !important;
    opacity: 1 !important;
    pointer-events: auto !important;
  }
  
  /* Forçar visibilidade mesmo com style inline */
  .mobile-menu-toggle[style*="display: none"],
  #mobileMenuToggle[style*="display: none"] {
    display: flex !important;
  }
  
  /* Esconder navegação desktop */
  nav:not(.active),
  .navbar:not(.active) {
    left: -100% !important;
    visibility: hidden !important;
  }
}

/* FORÇAR HEADER A SER ESCURO EM MOBILE */
@media (max-width: 768px) {
  header,
  .header,
  header.header {
    background: #2c3e50 !important;
    color: white !important;
  }
  
  header a,
  .header a {
    color: white !important;
  }
}

/* DESKTOP: ESCONDER MENU MOBILE */
@media (min-width: 769px) {
  .mobile-menu-toggle,
  .mobile-menu-overlay {
    display: none !important;
  }
  
  nav,
  .navbar {
    position: static !important;
    display: flex !important;
    left: auto !important;
    width: auto !important;
    height: auto !important;
    background: transparent !important;
    padding: 0 !important;
  }
}

/* MOBILE REAL CLASS FALLBACK */
html.mobile-real body {
  padding-top: 65px !important;
}

html.mobile-real .mobile-menu-toggle {
  display: flex !important;
}

html.mobile-real header,
html.mobile-real .header {
  position: fixed !important;
  top: 0 !important;
  left: 0 !important;
  right: 0 !important;
  height: 60px !important;
  background: #2c3e50 !important;
  z-index: 999 !important;
}

html.mobile-real nav,
html.mobile-real .navbar {
  position: fixed !important;
  top: 0 !important;
  left: -100% !important;
  height: 100vh !important;
  z-index: 1001 !important;
}

html.mobile-real .mobile-menu-overlay {
  display: none;
}

html.mobile-real .mobile-menu-overlay.active {
  display: block !important;
  z-index: 1000 !important;
}
